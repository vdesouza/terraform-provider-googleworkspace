---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "googleworkspace_group_dynamic Resource - terraform-provider-googleworkspace"
subcategory: ""
description: |-
  Dynamic Group resource manages Google Workspace Dynamic Groups using the Cloud Identity API. Dynamic groups automatically add or remove members based on user attributes. This resource requires the https://www.googleapis.com/auth/cloud-identity.groups client scope.
---

# googleworkspace_group_dynamic (Resource)

Dynamic Group resource manages Google Workspace Dynamic Groups using the Cloud Identity API. Dynamic groups automatically add or remove members based on user attributes. This resource requires the `https://www.googleapis.com/auth/cloud-identity.groups` client scope.

## Example Usage

```terraform
resource "googleworkspace_group_dynamic" "engineering" {
  email        = "dynamic-engineering@example.com"
  display_name = "Engineering Team (Dynamic)"
  description  = "All members of the Engineering department"

  # Dynamic query to automatically add users from Engineering department
  query = "user.organizations.exists(org, org.department == 'Engineering')"

  # Make this a security group (immutable - cannot be removed once added)
  security_label = true

  # Custom labels - all values must be empty strings
  labels = {
    "team" = ""
  }
}

# Example: Dynamic group based on email domain
resource "googleworkspace_group_dynamic" "contractors" {
  email        = "contractors@example.com"
  display_name = "All Contractors"

  query = "user.email.contains('@contractor.example.com')"

  # Lock the group to prevent manual member changes
  locked = true
}

# Example: Dynamic group with multiple conditions
resource "googleworkspace_group_dynamic" "senior_engineers" {
  email        = "senior-engineers@example.com"
  display_name = "Senior Engineers"
  description  = "Senior engineering staff in the US"

  # Query with AND conditions
  query = "user.organizations.exists(org, org.department == 'Engineering' && org.title.contains('Senior')) && user.addresses.exists(addr, addr.country == 'US')"

  # Security group that's locked
  security_label = true
  locked         = true

  labels = {
    "department"   = ""
    "access_level" = ""
  }
}

# Example: Dynamic group based on custom schema
resource "googleworkspace_group_dynamic" "beta_testers" {
  email        = "beta-testers@example.com"
  display_name = "Beta Testers"

  # Assuming you have a custom schema field
  query = "user.customSchemas.exists(s, s.key == 'beta_program' && s.value == 'enrolled')"
}

# Example: Dynamic group for specific office locations
resource "googleworkspace_group_dynamic" "nyc_office" {
  email = "nyc-office@example.com"

  query = "user.locations.exists(loc, loc.buildingId == 'NYC-01' || loc.buildingId == 'NYC-02')"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `email` (String) The group's email address. If your account has multiple domains, select the appropriate domain for the email address. The email must be unique.
- `query` (String) The dynamic membership query for this group. Members are automatically added or removed based on this query. See https://cloud.google.com/identity/docs/reference/rest/v1/groups.memberships#DynamicGroupQuery

### Optional

- `description` (String) An extended description to help users determine the purpose of a Group.
- `display_name` (String) The display name of the Group.
- `labels` (Map of String) Additional custom label entries that apply to the Group. The system labels (dynamic, security, locked) are managed via their respective fields. All label values must be empty strings.
- `locked` (Boolean) Defaults to `false`. If true, locks the group by adding the cloudidentity.googleapis.com/groups.locked label. Locked groups prevent members from being added or removed. This can be toggled on/off.
- `security_group` (Boolean) Defaults to `false`. If true, adds the cloudidentity.googleapis.com/groups.security label to the group. This is an immutable change - once added, the security label cannot be removed.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `create_time` (String) The time when the Group was created.
- `group_key_id` (String) The ID of the entity group key.
- `group_key_namespace` (String) The namespace of the entity group key.
- `id` (String) The ID of this resource.
- `name` (String) The resource name of the Group. Format: groups/{group_id}
- `update_time` (String) The time when the Group was last updated.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)


